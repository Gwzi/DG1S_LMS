{% extends 'base.html' %}
{% block content %}
<div class="text-center" style="margin-bottom:50px;overflow-x: auto; white-space: nowrap;display: flex; width: 100%; justify-content: center; padding: 5px">
    {% for i in batch %}
        <div class="srow">
            {% for j in i %}
                {% if j.0 == 0 %}
                    <div class="non_seat" >
                        <span>X</span>
                    </div>
                {% else %}
                    <div class="seat" onclick=" location.href='{% url 'pybo:Quick' j.0 %}'" style="background-color:{{ j.2 }}">
                        <h5 style="margin: 2px">{{ j.0 }}</h5>
                        {{ j.1 }}
                        <div style="background-color: #f1efef; border-radius: 5px; opacity: 0.6"><span style="opacity: 1;">{{ j.3 }}</span></div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

        <div class='middle'></div>
    {% endfor %}

</div>

<script>
    let timeout;

    function resetTimer() {
        clearTimeout(timeout);
        // 사용자 활동 후 10초 후에 페이지 새로고침
        timeout = setTimeout(() => {
            window.location.reload();
        }, 10000);
    }

    // 사용자의 스크롤, 클릭, 키보드 입력 감지
    window.onload = () => {
        window.addEventListener('scroll', resetTimer, true);
        window.addEventListener('click', resetTimer, true);
        window.addEventListener('keypress', resetTimer, true);

        // 처음 타이머 설정
        resetTimer();
    }
</script>
{% endblock %}